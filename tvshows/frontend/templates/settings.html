{% extends "base.html" %}

{% set active_page = 'settings' -%}
{% set page_name = _('settings.pagetitle') -%}

{% block content %}
<div id="settings" class="container">
    <form class="form-horizontal" method="POST">
      <h3>{{ _('settings.heading') }}</h3>
      {{ parts.displayFlashes() }}
      {{ parts.displayFormErrors(form) }}

      <fieldset>
        {{ form.csrf_token }}

        <div class="control-group{% if form.language.errors %} error{% endif %}">
          <label class="control-label" for="language">{{form.language.label.text}}</label>
          <div class="controls">
            {{ form.language }}
          </div>
        </div>

        <div class="control-group{% if form.episodesPerShow.errors %} error{% endif %}">
          <label class="control-label" for="episodesPerShow">{{form.episodesPerShow.label.text}}</label>
          <div class="controls">
            {{ form.episodesPerShow(class_='input-mini') }}
            <span class="help-block">{{ _('settings.episodesPerShow.helpmessage_%(default)d', default=current_user.defaults.episodesPerShow) }}</span>
          </div>
        </div>

        <div class="control-group">
          <div class="controls">
            <button type="submit" class="btn btn-primary">{{ _('settings.save') }}</button>
          </div>
        </div>
      </fieldset>
    </form>
</div>
{% endblock %}
